<Window x:Class="ControlUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ControlUI"
        mc:Ignorable="d"
        Title="UI Test Dashboard" Height="800" Width="1200"
        WindowStartupLocation="CenterScreen">
    <Window.DataContext>
        <local:MainViewModel/>
    </Window.DataContext>

    <DockPanel Background="#1E1E1E">

        <Border DockPanel.Dock="Top" Height="50" Background="#2D2D30">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="300"/>
                </Grid.ColumnDefinitions>

                <TextBox Margin="10" VerticalAlignment="Center" Height="30" 
                         />

                <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                    <TextBlock Foreground="White" VerticalAlignment="Center" Margin="10,0"
                               Text="Админ"/>
                    <Button Content="Выйти" Margin="0,0,10,0"/>
                </StackPanel>
            </Grid>
        </Border>

        <Border DockPanel.Dock="Left" Width="220" Background="#252526">
            <StackPanel>
                <Button Content="Панель" />
                <Button Content="Пользователи" />
                <Button Content="Отчеты" />
                <Button Content="Настройки" />
            </StackPanel>
        </Border>

        <StatusBar DockPanel.Dock="Bottom">
            <StatusBarItem Content="Соединение: Online"/>
            <StatusBarItem Content="Ошибок: 0"/>
        </StatusBar>

        <Grid Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <UniformGrid Columns="4" Margin="0,0,0,10">
                <Border Background="#3A3D41" CornerRadius="8" Margin="5">
                    <StackPanel Margin="10">
                        <TextBlock Text="Пользователи" Foreground="White"/>
                        <TextBlock Text="1240" FontSize="26" Foreground="LightGreen"/>
                    </StackPanel>
                </Border>
                <Border Background="#3A3D41" CornerRadius="8" Margin="5">
                    <StackPanel Margin="10">
                        <TextBlock Text="Активные" Foreground="White"/>
                        <TextBlock Text="532" FontSize="26" Foreground="LightBlue"/>
                    </StackPanel>
                </Border>
                <Border Background="#3A3D41" CornerRadius="8" Margin="5">
                    <StackPanel Margin="10">
                        <TextBlock Text="Ошибки" Foreground="White"/>
                        <TextBlock Text="7" FontSize="26" Foreground="Tomato"/>
                    </StackPanel>
                </Border>
                <Border Background="#3A3D41" CornerRadius="8" Margin="5">
                    <StackPanel Margin="10">
                        <TextBlock Text="Задачи" Foreground="White"/>
                        <TextBlock Text="18" FontSize="26" Foreground="Gold"/>
                    </StackPanel>
                </Border>
            </UniformGrid>

            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="3*"/>
                </Grid.ColumnDefinitions>

                <GroupBox Header="Редактирование пользователя" Foreground="White" Margin="5">
                    <StackPanel Margin="10">
                        <TextBox Margin="0,5" Text="{Binding SelectedUser.Name, UpdateSourceTrigger=PropertyChanged}" />
                        <TextBox Margin="0,5" Text="{Binding SelectedUser.Email, UpdateSourceTrigger=PropertyChanged}"/>
                        <ComboBox Margin="0,5" >
                            <ComboBoxItem Content="Admin"/>
                            <ComboBoxItem Content="User"/>
                        </ComboBox>
                        <CheckBox Content="Активен" Margin="0,5" IsChecked="{Binding SelectedUser.IsActive}"/>
                        <Button Content="Сохранить" Command="{Binding SaveCommand}" Margin="0,5"/>
                        <Button Content="Загрузить" Command="{Binding LoadCommand}" Margin="0,5"/>
                        <Button Content="Сгенерировать 1000" Command="{Binding GenerateUsersCommand}" Margin="0,5"/>
                    </StackPanel>
                </GroupBox>

                <DataGrid 
                    ItemsSource="{Binding Users}"
                    SelectedItem="{Binding SelectedUser}"
                    Grid.Column="1" Margin="5"
                          AutoGenerateColumns="False"
                          IsReadOnly="True">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding Id}"/>
                        <DataGridTextColumn Header="Имя" Binding="{Binding Name}"/>
                        <DataGridTextColumn Header="Email" Binding="{Binding Email}"/>
                        <DataGridCheckBoxColumn Header="Активен" Binding="{Binding IsActive}"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </Grid>
    </DockPanel>
</Window>
